import{argv as oe}from"node:process";import G from"express";import*as l from"path";import{execSync as $}from"child_process";import{fileURLToPath as se}from"url";import N from"fs";import ne from"sharp";import ae from"react";import ie from"react-dom/server";import A,{StrictMode as re}from"react";import C,{useCallback as X,useEffect as q,useReducer as R,useRef as U}from"react";import n,{createContext as Y}from"react";var D=(e=>(e[e.Initialize=0]="Initialize",e[e.Stopped=1]="Stopped",e[e.Playing=2]="Playing",e[e.Moving=3]="Moving",e[e.Grabbed=4]="Grabbed",e[e.Focused=5]="Focused",e))(D||{});var L={activeSlide:0,animationDuration:300,carouselResetTimer:null,deadZone:20,dragDistance:0,firstX:0,negativeOffsetOrigin:0,playAnimations:!0,slidesToClone:4,trackState:0},O=Y({state:L,dispatch:()=>{}}),z=[n.createElement(u,{key:"proj-seed",srcSlug:"seed",alt:"The Seed Website's landing page for its blog.",title:"Seed",subtitle:"Wordpress",btn_href:"https://seed.com/cultured"},n.createElement("p",null,"I helped with the responsiveness of the landing page and I built the new blog post template utilizing custom Gutenberg Blocks for a hassle-free backend content management experience.")),n.createElement(u,{key:"proj-brmc",srcSlug:"brmc",alt:"The BRMC Website's home page.",title:"BRMC",subtitle:"Wordpress",btn_href:"https://blueridgemountainclub.com"},n.createElement("p",null,"I built this website with the collaboration of two other developers. I integrated Hubspot, a 3rd party CRM, into the theme for this code so that we could build custom forms to capture leads but continue to utilize Hubspot's workflows for automating the life of the lead.")),n.createElement(u,{key:"proj-organic_olivia",srcSlug:"organicolivia",alt:"The Shopify Store for Organic Olivia, a modern approach to traditional herbal medicine.",title:"Organic Olivia",subtitle:"Shopify",btn_href:"https://organicolivia.com"},n.createElement("p",null,"I integrated Loyalty Lion, a Shopify Plus loyalty program into this shopify theme as well as wordpress to handle the blog. This website takes full advantage of Shopify Plus to further enhance and customize the User Experience.")),n.createElement(u,{key:"proj-insignis_partners",srcSlug:"insignispartners",alt:"The insignis partners website. An Investment and Real Estate Development firm.",title:"Insignis Partners",subtitle:"Wordpress",btn_href:"https://insignispartners.com"},n.createElement("p",null,"I enjoyed creating the animations and interactivity on the portfolio page. We used advanced custom fields to give the client the ability to update their staff.")),n.createElement(u,{key:"proj-davis_floyd",srcSlug:"davisfloyd",alt:"Davis Floyd Civil Construction.",title:"Davis Floyd",subtitle:"Wordpress",btn_href:"https://www.davisfloyd.com"},n.createElement("p",null,"I created the carousel animation on the Markets page and worked on the timeline on the about.")),n.createElement(u,{key:"proj-kroeger_marine",srcSlug:"kroegermarine",alt:"Kroeger Marine Docks.",title:"Kroeger Marine",subtitle:"Wordpress",btn_href:"https://www.kroegermarine.com"},n.createElement("p",null,"I created the filter for the recycle your docks program. I helped make the custom cursor responsive when it used to lag and repaint the cursor every 300ms. I used Stripo to build out email campaigns in Mailchimp.")),n.createElement(u,{key:"proj-vive_psych",srcSlug:"vivepsych",alt:"Vive Psyche located in Greenville, SC.",title:"Vive Psych",subtitle:"Wordpress",btn_href:"https://vivepsych.com"},n.createElement("p",null,"I created the filter for the recycle your docks program. I helped make the custom cursor responsive when it used to lag and repaint the cursor every 300ms. I used Stripo to build out email campaigns in Mailchimp.")),n.createElement(u,{key:"proj-core_transformers",srcSlug:"coretransformers",alt:"The Core Transformers Wordpress site.",title:"Core Transformers",subtitle:"Wordpress & BigCommerce",btn_href:"https://coretransformers.com"},n.createElement("p",null,"I was the sole developer for this project. I also gave their bigcommerce store a css update to match the wordpress site's brand.")),n.createElement(u,{key:"proj-parkside_obgyn",srcSlug:"parksideob-gyn",alt:"Parkside OB-GYN. Modern Women, Modern Care.",title:"Parkside OB-GYN",subtitle:"Wordpress",btn_href:"https://parksideob-gyn.com"},n.createElement("p",null,"I worked on the PHP page templates and css mobile, tablet, and desktop breakpoints for the whole site."))];import w from"react";function _(t){let{playAnimations:o}=t;return w.createElement(w.Fragment,null,w.createElement("div",{className:"carousel-state-controls"},w.createElement("button",{className:"toggle"},"Toggle Animations ",o===!0?"Off":"On")),w.createElement("div",{className:"track-controls"}))}import S,{useContext as Q}from"react";function W(t){let{state:o,dispatch:s}=Q(O),{activeSlide:r,slidesToClone:c}=o,{children:d,trackRef:e}=t,g=[...d].length;function m(f){s({actionType:2,data:f.clientX})}return S.createElement(S.Fragment,null,S.createElement("div",{className:"track",onMouseDown:m,onTouchStart:m,ref:e},[...d].map((f,a,i)=>{if(!(a<g-c)){if(r===0)return S.createElement("div",{className:"item item_clone",key:a+"itemClone","data-index":a},f);{let h=(a+r)%g;return S.createElement("div",{className:"item item_clone",key:h+"itemClone","data-index":h},i[h])}}}),[...d].map((f,a,i)=>{let h=a===r;if(r===0)return S.createElement("div",{className:"item","aria-current":h,key:a+"item","data-index":a},f);{let T=(a+r)%g;return S.createElement("div",{className:"item","aria-current":h,key:T+"item","data-index":T},i[T])}})))}function ee(t,o){let{actionType:s}=o,r;switch(s){case"Initialize":r={...t,trackState:o.data.playAnimations===!0?2:1,negativeOffsetOrigin:o.data.negativeOffsetOrigin,playAnimations:o.data.playAnimations};break;case 0:r={...t,trackState:5};break;case 2:r={...t,trackState:4,firstX:o.data};break;case"animate":r={...t,carouselResetTimer:o.data};break;case 4:r={...t,trackState:3,dragDistance:o.data};break;case 3:r={...t,trackState:2,firstX:0};break;case"stopAnimation":r={...t,trackState:1,carouselResetTimer:null};break;default:r={...t}}return r}function x({children:t,autoplay:o}){if(C.Children.count(t)<3)return"Pass more than 2 children to render carousel";let r=U(null),c=U(null),[d,e]=R(ee,L),{carouselResetTimer:g,deadZone:m,dragDistance:f,firstX:a,negativeOffsetOrigin:i,playAnimations:h,slidesToClone:T,trackState:v}=d,j=X(y=>{Z(y)},[v]),I=X(y=>{M()},[v]);if(h&&g===null&&v===2){let y=setTimeout(()=>{e({actionType:"stopAnimation"})},d.animationDuration);e({actionType:"animate",data:y})}c.current!==null&&(v===2||v===1)&&(c.current.style.translate=`${i}px`);function Z(y){if(g===null&&v===2)return e({actionType:0});if(v===3||v===4){let P=c.current,k=y.clientX-a+i;e({actionType:4,data:k+i}),(P&&k>m||P&&k<m*-1)&&(P.style.translate=`${k}px`)}}function H(){e({actionType:0}),r.current!==null&&(r.current.style.cursor="grab")}function M(){r.current!==null&&c.current!==null&&(r.current.style.cursor="grab"),h&&f<m&&f>m*-1?e({actionType:"stopAnimation"}):e({actionType:3})}return q(()=>{if(v===0&&c.current!==null){let y=window.matchMedia("(prefers-reduced-motion: reduce)").matches!==!0,P=c.current.children[T],k=P.offsetLeft,K=parseInt(window.getComputedStyle(P).marginLeft,10);k-=K,c.current.style.translate=`-${k}px`,e({actionType:"Initialize",data:{negativeOffsetOrigin:k*-1,playAnimations:y}})}return document.addEventListener("mousemove",j),document.addEventListener("touchmove",j),document.addEventListener("mouseup",I),document.addEventListener("touchend",I),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("touchmove",j),document.removeEventListener("mouseup",I),document.removeEventListener("touchend",I)}},[v]),C.createElement(C.Fragment,null,C.createElement("div",{className:"carousel","aria-label":o===!0?"Projects Carousel with autoplay":"Projects Carousel",onMouseUp:M,onMouseLeave:M,onTouchEnd:M,onMouseEnter:H,onTouchStart:H,role:"region",ref:r},h&&C.createElement("h2",null,"State: ",D[d.trackState]),C.createElement(O.Provider,{value:{state:d,dispatch:e}},C.createElement(_,null),C.createElement(W,{trackRef:c},t))))}import p,{useState as te}from"react";function u({srcSlug:t,alt:o,title:s,subtitle:r,children:c,btn_href:d}){let[e,g]=te(0),m=e===0?"":"expanded";m+=" project";function f(i){g(1)}function a(i){g(0)}return p.createElement(p.Fragment,null,p.createElement("article",{className:m,onClick:i=>f(i),onMouseLeave:i=>a(i),"aria-expanded":e===1},p.createElement("picture",null,p.createElement("source",{srcSet:`assets/media/${t}.png.webp`,type:"image/webp"}),p.createElement("source",{srcSet:`assets/media/${t}.png`,type:"image/png"}),p.createElement("img",{src:`assets/media/${t}.png.webp`,alt:o??""})),p.createElement("div",{className:"content"},p.createElement("h3",null,s," ",p.createElement("span",null,r)),c,p.createElement("a",{className:"btn",href:d,target:"_blank"},"Visit ",s))))}function F(){return A.createElement(A.Fragment,null,A.createElement(re,null,A.createElement(x,null,z)))}var E={sharp:!1,compile:!1,ssr:!1,dev:!1};oe.forEach((t,o)=>{if(o<2)return;let s;for(s in E)t.includes(s)&&(E[s]=!0)});var B=G(),b=l.dirname(se(import.meta.url));function le(){E.sharp&&(console.log("Converting images to webp"),N.readdir(l.resolve(b+"/src/media"),(t,o)=>{if(t)throw t;o.forEach(s=>{ne(l.resolve(b+"/src/media/"+s)).toFormat("webp").toFile(l.resolve(b+"/dist/assets/media/"+s+".webp")),N.copyFileSync(l.resolve(b+"/src/media/"+s),l.resolve(b+"/dist/assets/media/"+s))})})),!E.dev&&E.compile&&(console.log("Compiling assets with esbuild"),$("npm run build")),E.dev&&$("npm run css && npm run devjs"),E.ssr&&(console.log("Rendering App to SSR-OUTLET"),N.readFile(l.join(b+"/src/index.html"),"utf-8",(t,o)=>{let s=ie.renderToString(ae.createElement(F,null)),r=o.replace(/<!-- SSR-OUTLET -->/,s);N.writeFileSync(l.join(b+"/dist/index.html"),r,"utf-8")}))}le();B.use(G.static(l.resolve(b+"/dist")));B.use(G.static(l.resolve(b+"/src")));var V=process.env.PORT||80;B.listen(V,()=>{console.log("started on port "+V)});process.on("SIGINT",()=>{console.log("Received SIGINT. Goodbye."),process.exit()});process.on("SIGTERM",process.exit);
